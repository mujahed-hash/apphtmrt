"use strict";(self.webpackChunkhmfront=self.webpackChunkhmfront||[]).push([[239],{5748:(Z,m,r)=>{r.d(m,{U:()=>P});var t=r(5879),f=r(7019),g=r(6814),e=r(3403),p=r(6223);function x(d,l){1&d&&(t.TgZ(0,"div")(1,"p"),t._uU(2,"Received Orders Appear Here"),t.qZA()())}const v=function(){return["/view-order/"]};function _(d,l){if(1&d&&(t.TgZ(0,"div",18)(1,"div")(2,"div",19)(3,"p",20),t._uU(4,"Order for: "),t.TgZ(5,"strong"),t._uU(6),t.qZA()(),t.TgZ(7,"p",21),t._uU(8,"Order Size type: "),t.TgZ(9,"strong"),t._uU(10),t.qZA()(),t.TgZ(11,"p",21),t._uU(12,"Item quantity : "),t.TgZ(13,"strong"),t._uU(14),t.qZA()()()()()),2&d){const o=l.$implicit;t.xp6(2),t.Q6J("routerLink",t.DdM(4,v)),t.xp6(4),t.Oqu(o.product.prodName),t.xp6(4),t.Oqu(o.prodSize),t.xp6(4),t.Oqu(o.quantity)}}const O=function(d){return["/view-order",d]};function C(d,l){if(1&d){const o=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"p"),t._uU(3,"Orderd by "),t.TgZ(4,"strong"),t._uU(5),t.qZA()(),t.TgZ(6,"p",6),t._uU(7," Status: "),t.TgZ(8,"span",7),t._uU(9),t.qZA()()(),t.TgZ(10,"div",8)(11,"p",9)(12,"strong"),t._uU(13),t.ALo(14,"currency"),t.qZA(),t._uU(15," for "),t.TgZ(16,"span"),t._uU(17),t.qZA(),t._uU(18," item "),t.qZA()(),t.YNc(19,_,15,5,"div",10),t.TgZ(20,"div",11)(21,"select",12),t.NdJ("ngModelChange",function(c){const u=t.CHM(o).$implicit,i=t.oxw(2);return t.KtG(i.newStatus[u._id]=c)}),t.TgZ(22,"option",13),t._uU(23,"Pending"),t.qZA(),t.TgZ(24,"option",14),t._uU(25,"Approved"),t.qZA(),t.TgZ(26,"option",15),t._uU(27,"Delivered"),t.qZA(),t.TgZ(28,"option",16),t._uU(29,"Cancelled"),t.qZA()(),t.TgZ(30,"button",17),t.NdJ("click",function(){const n=t.CHM(o).$implicit,u=t.oxw(2);return t.KtG(u.updateStatus(n._id,n.user._id))}),t._uU(31,"Update Status"),t.qZA()()()}if(2&d){const o=l.$implicit,s=t.oxw(2);t.xp6(1),t.Q6J("routerLink",t.VKq(10,O,o.customIdentifer)),t.xp6(4),t.Oqu(null==o||null==o.user?null:o.user.name),t.xp6(4),t.hij("",o.status," "),t.xp6(4),t.hij("",t.xi3(14,7,null==o?null:o.totalPrice,"INR")," "),t.xp6(4),t.Oqu(null==o?null:o.orderItems.length),t.xp6(2),t.Q6J("ngForOf",o.orderItems),t.xp6(2),t.Q6J("ngModel",s.newStatus[o._id])}}function M(d,l){if(1&d&&(t.TgZ(0,"div",2),t.YNc(1,C,32,12,"div",3),t.qZA()),2&d){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.orders)}}let P=(()=>{class d{constructor(o){this.productService=o,this.newStatus={}}ngOnInit(){this.token=localStorage.getItem("token"),this.getPlacedOrders()}getPlacedOrders(){this.productService.getPlacedOrders(this.token).subscribe(o=>{this.orders=o,this.initializeStatus(),console.log(o)})}initializeStatus(){this.orders.forEach(o=>{this.newStatus[o._id]=o.status})}updateStatus(o,s){this.productService.updateOrderStatus(o,s,this.newStatus[o],this.token).subscribe(n=>{console.log("Order status updated successfully",n),this.getPlacedOrders()},n=>{console.error("Error updating order status",n)})}static#t=this.\u0275fac=function(s){return new(s||d)(t.Y36(f.p))};static#e=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-supplier-orders-component"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","order-container",4,"ngIf"],[1,"order-container"],["class","order-card",4,"ngFor","ngForOf"],[1,"order-card"],[1,"order-head",3,"routerLink"],[2,"margin-bottom","0.5rem"],[2,"background-color","#D6E4F0","padding","3px 7px","border-radius","5px","color","#2657C1"],[2,"position","relative","width","100%","margin","0","padding","0"],[2,"position","relative","width","max-content","float","right","margin","0","padding","0"],["class","order-item",4,"ngFor","ngForOf"],[1,"order-status"],[1,"status-select","form-select",3,"ngModel","ngModelChange"],["value","Pending"],["value","Approved"],["value","Delivered"],["value","Cancelled"],[1,"update-button",3,"click"],[1,"order-item"],[1,"item",3,"routerLink"],[1,"product-name"],[1,"order-details","product-info","product-price"]],template:function(s,c){1&s&&(t.YNc(0,x,3,0,"div",0),t.YNc(1,M,2,1,"div",1)),2&s&&(t.Q6J("ngIf",!c.orders),t.xp6(1),t.Q6J("ngIf",c.orders))},dependencies:[g.sg,g.O5,e.rH,p.YN,p.Kr,p.EJ,p.JJ,p.On,g.H9],styles:[".order-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem;width:80%}.order-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #ccc;border-radius:8px;padding:.5rem 1rem;background-color:#f9f9f9;height:20rem;overflow:hidden;overflow-y:auto}.order-item[_ngcontent-%COMP%]{justify-content:space-between;padding:.5rem 0;border-bottom:1px solid #eee}.product-name[_ngcontent-%COMP%], .order-details[_ngcontent-%COMP%], .order-status[_ngcontent-%COMP%]{margin:0}.status-select[_ngcontent-%COMP%]{margin-top:.2rem;padding:.5rem;border:1px solid #ccc;border-radius:4px}.update-button[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}.update-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .order-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.4rem}.order-head[_ngcontent-%COMP%]{background-color:#ebf4f6;padding:0 8px;border-radius:5px;color:#041562}@media (min-width: 768px){.order-container[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}.order-card[_ngcontent-%COMP%]{flex:1 1 calc(50% - 2rem);margin:.5rem}}@media (min-width: 1024px){.order-card[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 2rem)}}@media screen and (orientation: portrait){.order-container[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;font-size:small;width:100%}.order-head[_ngcontent-%COMP%]{margin:0;margin-bottom:.5rem}.order-card[_ngcontent-%COMP%]{flex:1 1 calc(50% - 1rem);height:17rem}.order-status[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:small}.update-button[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:small}}"]})}return d})()},239:(Z,m,r)=>{r.r(m),r.d(m,{SupplierModule:()=>c});var t=r(6814),f=r(3403),g=r(5748),e=r(5879),p=r(7019);function x(n,u){if(1&n&&(e.TgZ(0,"div")(1,"h2"),e._uU(2,"Order Received"),e.qZA(),e.TgZ(3,"div",6)(4,"h1"),e._uU(5),e.qZA()()()),2&n){const i=e.oxw();e.xp6(5),e.Oqu(i.order.totalOrders)}}function v(n,u){if(1&n&&(e.TgZ(0,"div",7)(1,"div")(2,"h2"),e._uU(3,"Order Delivered"),e.qZA(),e.TgZ(4,"div",6)(5,"h1"),e._uU(6),e.qZA()()()()),2&n){const i=e.oxw();e.xp6(6),e.Oqu(i.order.deliveredOrders)}}function _(n,u){if(1&n&&(e.TgZ(0,"div",8)(1,"div")(2,"h2"),e._uU(3,"Total Sales"),e.qZA(),e.TgZ(4,"div",6)(5,"h1"),e._uU(6),e.qZA()()()()),2&n){const i=e.oxw();e.xp6(6),e.Oqu(i.order.deliveredOrders)}}function O(n,u){if(1&n&&(e.TgZ(0,"div")(1,"h2"),e._uU(2,"Total Items"),e.qZA(),e.TgZ(3,"div",6)(4,"h1"),e._uU(5),e.qZA()()()),2&n){const i=e.oxw();e.xp6(5),e.Oqu(i.products.count)}}let C=(()=>{class n{constructor(i){this.supplyService=i}ngOnInit(){this.token=localStorage.getItem("token"),this.getOrdersCount(),this.getProductsCount()}getOrdersCount(){this.supplyService.getOrdersCount(this.token).subscribe(i=>{console.log(i),this.order=i})}getProductsCount(){this.supplyService.getProductsCount(this.token).subscribe(i=>{console.log(i),this.products=i})}static#t=this.\u0275fac=function(a){return new(a||n)(e.Y36(p.p))};static#e=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-supplier"]],decls:7,vars:4,consts:[[1,"s-dashboard"],[1,"s-d-i","s-r"],[4,"ngIf"],["class","s-d-i s-d",4,"ngIf"],["class","s-d-i s-s",4,"ngIf"],[1,"s-d-i","s-i"],[1,"stat-value"],[1,"s-d-i","s-d"],[1,"s-d-i","s-s"]],template:function(a,h){1&a&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,x,6,1,"div",2),e.qZA(),e.YNc(3,v,7,1,"div",3),e.YNc(4,_,7,1,"div",4),e.TgZ(5,"div",5),e.YNc(6,O,6,1,"div",2),e.qZA()()),2&a&&(e.xp6(2),e.Q6J("ngIf",h.order),e.xp6(1),e.Q6J("ngIf",h.order),e.xp6(1),e.Q6J("ngIf",h.order),e.xp6(2),e.Q6J("ngIf",h.products))},dependencies:[t.O5],styles:[".s-dashboard[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;gap:30px;justify-content:space-around;padding:15px}.s-d-i[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:20px;flex:1 1 calc(25% - 20px);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;min-width:250px;transition:transform .3s ease}.s-d-i[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.s-d-i[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:10px;color:#333}.stat-value[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3em;margin:0;color:#00796b}.s-dashboard[_ngcontent-%COMP%]{width:100%;display:inline-block}.s-d-i[_ngcontent-%COMP%]{width:25%;display:inline-block;margin:15px}@media screen and (orientation: portrait){.s-d-i[_ngcontent-%COMP%]{flex:1 1 calc(30% - 10px);margin:10px 4px;min-width:8.5rem;overflow:hidden}}@media screen and (max-width: 500px){.s-d-i[_ngcontent-%COMP%]{flex:1 1 calc(30% - 10px);margin:10px 4px;min-width:9.5rem;overflow:hidden}}@media screen and (max-width: 400px){.s-d-i[_ngcontent-%COMP%]{flex:1 1 calc(30% - 10px);margin:10px 4px;min-width:8.5rem;overflow:hidden}}"]})}return n})();var M=r(1391),P=r(9742);const d=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:C},{path:"orders",component:g.U},{path:"",loadChildren:()=>Promise.all([r.e(5754),r.e(4174),r.e(2032),r.e(4967)]).then(r.bind(r,4967)).then(n=>n.MoreModule),canActivate:[M.a,P.p],data:{role:"supplier"}}];let l=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[f.Bz.forChild(d),f.Bz]})}return n})();var o=r(4240),s=r(6223);let c=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({providers:[o.f],imports:[t.ez,l,s.u5]})}return n})()}}]);
"use strict";(self.webpackChunkhmfront=self.webpackChunkhmfront||[]).push([[8337],{8337:(q,$,a)=>{a.r($),a.d($,{AdminModule:()=>vt});var c=a(177),C=a(8498),t=a(7705),f=a(1413),u=a(6977),y=a(3976),s=a(9417);function d(n,l){if(1&n){const e=t.RV6();t.j41(0,"span",19),t.bIt("click",function(){const p=t.eBV(e).$implicit,h=t.XpG();return t.Njj(h.selectModel(p))}),t.EFF(1),t.k0s()}if(2&n){const e=l.$implicit,r=t.XpG();t.AVh("selected",e===r.selectedModel),t.R7$(1),t.SpI(" ",e," ")}}function i(n,l){if(1&n&&(t.j41(0,"li")(1,"strong"),t.EFF(2),t.k0s(),t.EFF(3),t.k0s()),2&n){const e=l.$implicit;t.R7$(2),t.SpI("",e[0],":"),t.R7$(1),t.SpI(" ",e[1]," ")}}function m(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",25)(1,"ul"),t.DNE(2,i,4,2,"li",21),t.k0s(),t.j41(3,"button",26),t.bIt("click",function(){const p=t.eBV(e).$implicit,h=t.XpG().$implicit,b=t.XpG(2);return t.Njj(b.deleteDocument(h.key,p._id))}),t.EFF(4,"Delete"),t.k0s()()}if(2&n){const e=l.$implicit,r=t.XpG(3);t.R7$(2),t.Y8G("ngForOf",r.objectEntries(e))}}function g(n,l){if(1&n&&(t.j41(0,"div")(1,"h4"),t.EFF(2),t.k0s(),t.DNE(3,m,5,1,"div",24),t.k0s()),2&n){const e=l.$implicit;t.R7$(2),t.SpI("Model: ",e.key,""),t.R7$(1),t.Y8G("ngForOf",e.value)}}function O(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",20)(1,"h3"),t.EFF(2),t.k0s(),t.DNE(3,g,4,2,"div",21),t.nI1(4,"keyvalue"),t.j41(5,"div",22)(6,"button",23),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.previousPage())}),t.EFF(7,"Previous"),t.k0s(),t.j41(8,"button",23),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.nextPage())}),t.EFF(9,"Next"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(2),t.SpI("Total Results: ",e.totalResults,""),t.R7$(1),t.Y8G("ngForOf",t.bMT(4,4,e.groupedResults)),t.R7$(3),t.Y8G("disabled",!e.canGoPrevious()),t.R7$(2),t.Y8G("disabled",!e.canGoNext())}}function R(n,l){if(1&n&&(t.j41(0,"div")(1,"h2"),t.EFF(2,"Order Received"),t.k0s(),t.j41(3,"div",27)(4,"h1"),t.EFF(5),t.k0s()()()),2&n){const e=t.XpG();t.R7$(5),t.JRh(e.order.totalOrders)}}function j(n,l){if(1&n&&(t.j41(0,"div",28)(1,"div")(2,"h2"),t.EFF(3,"Order Delivered"),t.k0s(),t.j41(4,"div",27)(5,"h1"),t.EFF(6),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(6),t.JRh(e.order.deliveredOrders)}}function Y(n,l){if(1&n&&(t.j41(0,"div",29)(1,"div")(2,"h2"),t.EFF(3,"Total Sales.."),t.k0s(),t.j41(4,"div",27)(5,"h1"),t.EFF(6),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(6),t.JRh(e.order.deliveredOrders)}}function V(n,l){if(1&n&&(t.j41(0,"div")(1,"h2"),t.EFF(2,"Total Items"),t.k0s(),t.j41(3,"div",27)(4,"h1"),t.EFF(5),t.k0s()()()),2&n){const e=t.XpG();t.R7$(5),t.JRh(e.products.count)}}function Q(n,l){if(1&n&&(t.j41(0,"div")(1,"h2"),t.EFF(2,"Total Users"),t.k0s(),t.j41(3,"div",27)(4,"h1"),t.EFF(5),t.k0s()()()),2&n){const e=t.XpG();t.R7$(5),t.JRh(e.users.totalUsers)}}function J(n,l){if(1&n&&(t.j41(0,"div")(1,"h2"),t.EFF(2,"Total Admins"),t.k0s(),t.j41(3,"div",27)(4,"h1"),t.EFF(5),t.k0s()()()),2&n){const e=t.XpG();t.R7$(5),t.JRh(e.users.admins)}}function K(n,l){if(1&n&&(t.j41(0,"div")(1,"h2"),t.EFF(2,"Total Buyers"),t.k0s(),t.j41(3,"div",27)(4,"h1"),t.EFF(5),t.k0s()()()),2&n){const e=t.XpG();t.R7$(5),t.JRh(e.users.buyers)}}function Z(n,l){if(1&n&&(t.j41(0,"div")(1,"h2"),t.EFF(2,"Total Suppliers"),t.k0s(),t.j41(3,"div",27)(4,"h1"),t.EFF(5),t.k0s()()()),2&n){const e=t.XpG();t.R7$(5),t.JRh(e.users.suppliers)}}let H=(()=>{class n{constructor(e){this.adminService=e,this.destroy$=new f.B,this.model="All",this.query="",this.results=[],this.totalResults=0,this.start=0,this.limit=10,this.models=["All","Product","User","Order","Category","ProductSubmission","Requirement"],this.selectedModel="All",this.groupedResults={},this.sPerformed=!1}ngOnInit(){this.token=localStorage.getItem("token"),this.getOrdersCount(),this.getProductsCount(),this.getUsersCount()}onSearch(){this.sPerformed=!0;const e="All"===this.selectedModel?"":this.selectedModel;console.log("Selected Model:",e),console.log("Query:",this.query),this.adminService.search(this.query,e,this.start,this.limit,this.token).pipe((0,u.Q)(this.destroy$)).subscribe(r=>{console.log("search res",r),this.results=r.results,this.totalResults=r.totalResults,this.groupResultsByModel()},r=>{console.error("Search error:",r)})}objectEntries(e){return Object.entries(e)}groupResultsByModel(){this.groupedResults=this.results.reduce((e,r)=>{const o=r.model;return e[o]||(e[o]=[]),e[o].push(r),e},{})}selectModel(e){this.selectedModel=e,this.start=0,this.onSearch()}deleteDocument(e,r){confirm("Are you sure you want to delete this document?")&&this.adminService.deleteDocumentByModelAndId(e,r,this.token).pipe((0,u.Q)(this.destroy$)).subscribe(()=>{alert("Document deleted successfully"),this.onSearch()},o=>{console.error("Error deleting document:",o),alert("Failed to delete the document.")})}clearModel(){this.selectedModel="All",this.start=0,this.onSearch()}nextPage(){this.start+this.limit<this.totalResults&&(this.start+=this.limit,this.onSearch())}previousPage(){this.start>0&&(this.start-=this.limit,this.onSearch())}resetSearch(){this.query="",this.results=[],this.groupedResults={},this.totalResults=0,this.start=0,this.sPerformed=!1}canGoNext(){return this.start+this.limit<this.totalResults}canGoPrevious(){return this.start>0}getOrdersCount(){this.adminService.getOrdersCountAdmin(this.token).pipe((0,u.Q)(this.destroy$)).subscribe(e=>{console.log(e),this.order=e})}getProductsCount(){this.adminService.getProductsCountAdmin(this.token).pipe((0,u.Q)(this.destroy$)).subscribe(e=>{console.log(e),this.products=e})}getUsersCount(){this.adminService.getUsersCountAdmin(this.token).pipe((0,u.Q)(this.destroy$)).subscribe(e=>{console.log(e),this.users=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(r){return new(r||n)(t.rXU(y.z))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-dashboard"]],decls:31,vars:13,consts:[[1,"search-all"],[1,"search-container"],[1,"search-sub"],["type","text","placeholder","Enter search query",3,"ngModel","ngModelChange","keyup.enter"],[1,"button-group"],[1,"srch",3,"click"],[1,"rst",3,"click"],[1,"model-tags"],["class","tag",3,"selected","click",4,"ngFor","ngForOf"],[1,"tag","clear",3,"click"],["class","results-container",4,"ngIf"],[1,"dash-main"],[1,"s-dashboard"],["routerLink","/supplier/more/orders-recieved/pending",1,"s-d-i","s-r"],[4,"ngIf"],["routerLink","/supplier/more/orders-recieved/delivered","class","s-d-i s-d",4,"ngIf"],["routerLink","/supplier/more/orders-recieved/delivered","class","s-d-i s-s",4,"ngIf"],["routerLink","/buyer/marketplace",1,"s-d-i","s-i"],["routerLink","/admin/allusers",1,"s-d-i","s-i"],[1,"tag",3,"click"],[1,"results-container"],[4,"ngFor","ngForOf"],[1,"pagination"],[3,"disabled","click"],["class","result-item",4,"ngFor","ngForOf"],[1,"result-item"],[1,"delete-btn",3,"click"],[1,"stat-value"],["routerLink","/supplier/more/orders-recieved/delivered",1,"s-d-i","s-d"],["routerLink","/supplier/more/orders-recieved/delivered",1,"s-d-i","s-s"]],template:function(r,o){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),t.bIt("ngModelChange",function(h){return o.query=h})("keyup.enter",function(){return o.onSearch()}),t.k0s(),t.nrm(4,"br"),t.j41(5,"div",4)(6,"button",5),t.bIt("click",function(){return o.onSearch()}),t.EFF(7,"Search"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(){return o.resetSearch()}),t.EFF(9,"Reset Search"),t.k0s()()(),t.j41(10,"div",7),t.DNE(11,d,2,3,"span",8),t.j41(12,"span",9),t.bIt("click",function(){return o.clearModel()}),t.EFF(13," All "),t.k0s()()(),t.DNE(14,O,10,6,"div",10),t.k0s(),t.j41(15,"div",11)(16,"div",12)(17,"div",13),t.DNE(18,R,6,1,"div",14),t.k0s(),t.DNE(19,j,7,1,"div",15),t.DNE(20,Y,7,1,"div",16),t.j41(21,"div",17),t.DNE(22,V,6,1,"div",14),t.k0s(),t.j41(23,"div",18),t.DNE(24,Q,6,1,"div",14),t.k0s(),t.j41(25,"div",18),t.DNE(26,J,6,1,"div",14),t.k0s(),t.j41(27,"div",18),t.DNE(28,K,6,1,"div",14),t.k0s(),t.j41(29,"div",18),t.DNE(30,Z,6,1,"div",14),t.k0s()()()),2&r&&(t.R7$(3),t.Y8G("ngModel",o.query),t.R7$(8),t.Y8G("ngForOf",o.models),t.R7$(1),t.AVh("selected","All"===o.selectedModel),t.R7$(2),t.Y8G("ngIf",o.sPerformed),t.R7$(4),t.Y8G("ngIf",o.order),t.R7$(1),t.Y8G("ngIf",o.order),t.R7$(1),t.Y8G("ngIf",o.order),t.R7$(2),t.Y8G("ngIf",o.products),t.R7$(2),t.Y8G("ngIf",o.users),t.R7$(2),t.Y8G("ngIf",o.users),t.R7$(2),t.Y8G("ngIf",o.users),t.R7$(2),t.Y8G("ngIf",o.users))},dependencies:[c.Sq,c.bT,C.Wk,s.me,s.BC,s.vS,c.lG],styles:['@charset "UTF-8";.search-all[_ngcontent-%COMP%]{width:80%;margin-top:20px;overflow-x:hidden}.search-container[_ngcontent-%COMP%]{display:block;gap:10px;overflow-x:hidden}.search-sub[_ngcontent-%COMP%]{display:flex;margin-bottom:.5rem;align-items:center}.search-sub[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60%;padding:8px 5px}.search-sub[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:max-content}.results-container[_ngcontent-%COMP%]{margin-top:20px;overflow-x:hidden}.srch[_ngcontent-%COMP%]{background-color:#000}.rst[_ngcontent-%COMP%]{background-color:#00f}.srch[_ngcontent-%COMP%], .rst[_ngcontent-%COMP%]{color:#fff;border:none;border-radius:8px;padding:5px 9px;margin-left:.2rem}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}.model-tags[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px}.tag[_ngcontent-%COMP%]{padding:10px 15px;background-color:#f0f0f0;border-radius:5px;cursor:pointer;transition:background-color .3s;width:max-content}.tag.selected[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.tag.clear[_ngcontent-%COMP%]{background-color:#ddd}.tag[_ngcontent-%COMP%]:hover{background-color:#cce5ff}.result-item[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;margin:10px 0;border-radius:5px;overflow-x:hidden}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.dash-main[_ngcontent-%COMP%], .s-dashboard[_ngcontent-%COMP%]{overflow-x:hidden;width:100%}.dash-main[_ngcontent-%COMP%]{overflow-x:hidden}.s-dashboard[_ngcontent-%COMP%]{width:max-content;display:flex;flex-wrap:wrap;gap:30px;justify-content:space-around;padding:15px;height:100%}.s-d-i[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:20px;flex:1 1 calc(25% - 20px);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;min-width:250px;transition:transform .3s ease}.s-d-i[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.s-d-i[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:10px;color:#333}.stat-value[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3em;margin:0;color:#00796b}.s-dashboard[_ngcontent-%COMP%]{width:100%;display:inline-block}.s-d-i[_ngcontent-%COMP%]{width:25%;display:inline-block;margin:15px}@media screen and (orientation: portrait){.search-all[_ngcontent-%COMP%]{width:98%;overflow-x:hidden}.model-tags[_ngcontent-%COMP%]{display:inline-block}.tag[_ngcontent-%COMP%]{display:inline-block;margin:5px}.search-sub[_ngcontent-%COMP%]{display:grid;margin-bottom:.2rem;align-items:center}.search-sub[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:85%;padding:8px 5px;margin-bottom:.5rem}.result-item[_ngcontent-%COMP%]{overflow-x:scroll}.s-dashboard[_ngcontent-%COMP%]{height:max-content;margin-bottom:10rem}.s-d-i[_ngcontent-%COMP%]{flex:1 1 calc(20% - 10px);margin:10px 5px;width:8.8rem;max-width:8.8rem;min-width:auto;height:12rem;margin-bottom:5rem}}@media screen and (max-width: 500px){.s-d-i[_ngcontent-%COMP%]{flex:1 1 calc(20% - 10px);margin:10px 4px;overflow-x:hidden}}@media screen and (orientation: portrait){.results-container[_ngcontent-%COMP%]{margin:0}.dash-main[_ngcontent-%COMP%]{width:95%;display:flex;justify-content:center;overflow-x:hidden;padding-left:1rem;max-width:95%}.s-d-i[_ngcontent-%COMP%]{flex:1 1 calc(30% - 10px);margin:10px 4px;min-width:8.5rem;overflow-x:hidden}}@media screen and (max-width: 520px){.s-d-i[_ngcontent-%COMP%]{flex:1 1 calc(30% - 10px);margin:10px 4px}}@media screen and (max-width: 420px){.dash-main[_ngcontent-%COMP%]{padding-left:.5rem}.s-d-i[_ngcontent-%COMP%]{flex:1 1 calc(20% - 10px);margin:10px 4px;width:8rem;max-width:8rem}}@media screen and (max-width: 390px){.dash-main[_ngcontent-%COMP%]{display:inline-block;padding-left:.1rem}.s-d-i[_ngcontent-%COMP%]{display:inline-block;flex:none;margin:.1rem;width:1.4rem;max-width:1.4rem;font-size:small}}*[_ngcontent-%COMP%]{box-sizing:border-box}@media screen and (max-width: 370px){.dash-main[_ngcontent-%COMP%]{display:inline-block;padding-left:.1rem}.s-d-i[_ngcontent-%COMP%]{display:inline-block;flex:none;margin:.1rem;width:1.1rem;max-width:1.1rem;font-size:small}.s-dashboard[_ngcontent-%COMP%]{gap:30px;justify-content:center;padding:1px;height:100%}.s-d-i[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:1px;flex:1 1 calc(40% - 20px);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;min-width:250px;transition:transform .3s ease;margin:1rem;position:relative;left:5%}}']})}}return n})(),D=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-admin"]],decls:1,vars:0,template:function(r,o){1&r&&t.nrm(0,"app-dashboard")},dependencies:[H]})}}return n})(),S=(()=>{class n{constructor(e,r,o,p){this.fb=e,this.userService=r,this.route=o,this.router=p,this.destroy$=new f.B,this.isEditMode=!1}ngOnInit(){this.userForm=this.fb.group({name:["",s.k0.required],email:["",[s.k0.required,s.k0.email]],password:[""],phone:["",s.k0.required],street:[""],apartment:[""],city:["",s.k0.required],zip:[""],country:["",s.k0.required],isAdmin:[!1],isSupplier:[!1],isBuyer:[!0]}),this.token=localStorage.getItem("token"),this.customIdentifer=this.route.snapshot.params.customIdentifer,this.customIdentifer&&(this.isEditMode=!0,this.userService.getUserByCID(this.customIdentifer,this.token).pipe((0,u.Q)(this.destroy$)).subscribe(e=>{console.log(e),this.userForm.patchValue(e)},e=>console.error("Error fetching user details",e))),this.customIdentifer&&this.isEditMode&&(this.userForm.value.password="")}onSubmit(){if(this.userForm.invalid)return void console.log("iclicked-inavlid-form",this.userForm.value);console.log("iclicked-valid-form",this.userForm.value);const e=this.userForm.value;this.isEditMode?this.userService.updateUser(this.customIdentifer,e,this.token).pipe((0,u.Q)(this.destroy$)).subscribe(r=>{console.log("User updated successfully",r),this.router.navigate(["/admin/allusers"])},r=>console.error("Error updating user",r)):this.userService.addUser(e,this.token).pipe((0,u.Q)(this.destroy$)).subscribe(r=>{console.log("User added successfully",r),this.router.navigate(["/admin/allusers"])},r=>console.error("Error adding user",r))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(r){return new(r||n)(t.rXU(s.ok),t.rXU(y.z),t.rXU(C.nX),t.rXU(C.Ix))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-aeuser"]],decls:59,vars:4,consts:[[1,"form"],[1,"user-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["id","name","formControlName","name","type","text","placeholder","Enter name"],["for","email"],["id","email","formControlName","email","type","email","placeholder","Enter email"],["for","password"],["id","password","formControlName","password","type","password","placeholder","Enter password"],["for","phone"],["id","phone","formControlName","phone","type","text","placeholder","Enter phone number"],["for","street"],["id","street","formControlName","street","type","text","placeholder","Enter street"],["for","apartment"],["id","apartment","formControlName","apartment","type","text","placeholder","Enter Shop/Unit No"],["for","city"],["id","city","formControlName","city","type","text","placeholder","Enter city"],["for","zip"],["id","zip","formControlName","zip","type","text","placeholder","Enter ZIP code"],["for","country"],["id","country","formControlName","country","type","text","placeholder","Enter country"],[1,"form-check-group",2,"position","relative","vertical-align","middle"],["for","isAdmin"],[2,"position","relative"],["id","isAdmin","formControlName","isAdmin","type","checkbox"],["for","isSupplier"],["id","isSupplier","formControlName","isSupplier","type","checkbox"],["for","isBuyer"],["id","isBuyer","formControlName","isBuyer","type","checkbox"],["type","submit",1,"submit-btn",3,"disabled"]],template:function(r,o){1&r&&(t.j41(0,"div")(1,"div",0)(2,"form",1),t.bIt("ngSubmit",function(){return o.onSubmit()}),t.j41(3,"h2"),t.EFF(4),t.k0s(),t.j41(5,"div",2)(6,"label",3),t.EFF(7,"Name"),t.k0s(),t.nrm(8,"input",4),t.k0s(),t.j41(9,"div",2)(10,"label",5),t.EFF(11,"Email"),t.k0s(),t.nrm(12,"input",6),t.k0s(),t.j41(13,"div",2)(14,"label",7),t.EFF(15,"Password"),t.k0s(),t.nrm(16,"input",8),t.k0s(),t.j41(17,"div",2)(18,"label",9),t.EFF(19,"Phone"),t.k0s(),t.nrm(20,"input",10),t.k0s(),t.j41(21,"div",2)(22,"label",11),t.EFF(23,"Street"),t.k0s(),t.nrm(24,"input",12),t.k0s(),t.j41(25,"div",2)(26,"label",13),t.EFF(27,"Shop/Unit No"),t.k0s(),t.nrm(28,"input",14),t.k0s(),t.j41(29,"div",2)(30,"label",15),t.EFF(31,"City"),t.k0s(),t.nrm(32,"input",16),t.k0s(),t.j41(33,"div",2)(34,"label",17),t.EFF(35,"ZIP"),t.k0s(),t.nrm(36,"input",18),t.k0s(),t.j41(37,"div",2)(38,"label",19),t.EFF(39,"Country"),t.k0s(),t.nrm(40,"input",20),t.k0s(),t.j41(41,"div",21)(42,"label",22),t.EFF(43,"Admin "),t.j41(44,"span",23),t.EFF(45,"Admin "),t.k0s(),t.nrm(46,"input",24),t.k0s(),t.j41(47,"label",25),t.EFF(48," Supplier "),t.j41(49,"span",23),t.EFF(50," Supplier"),t.k0s(),t.nrm(51,"input",26),t.k0s(),t.j41(52,"label",27),t.EFF(53,"Buyer "),t.j41(54,"span",23),t.EFF(55," Buyer"),t.k0s(),t.nrm(56,"input",28),t.k0s()(),t.j41(57,"button",29),t.EFF(58),t.k0s()()()()),2&r&&(t.R7$(2),t.Y8G("formGroup",o.userForm),t.R7$(2),t.SpI("",o.isEditMode?"Update":"Add"," User"),t.R7$(53),t.Y8G("disabled",o.userForm.invalid),t.R7$(1),t.SpI("",o.isEditMode?"Update":"Add"," User"))},dependencies:[s.qT,s.me,s.Zm,s.BC,s.cb,s.j4,s.JD],styles:[".form[_ngcontent-%COMP%]{width:100%;display:grid;justify-items:center;margin-left:-8rem;margin-top:1rem;height:100%;overflow-x:hidden;margin-bottom:5rem}.user-form[_ngcontent-%COMP%]{width:40%;margin:0;padding:20px;border:1px solid #ddd;border-radius:8px;background-color:#f9f9f9;height:100%;overflow:hidden}.user-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.form-check-group[_ngcontent-%COMP%]{margin:20px;color:#000}.form-check-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;font-weight:400;justify-content:space-around;width:50%;color:#000}.submit-btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:16px;color:#fff;background-color:#007bff;border:none;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 600px){.form[_ngcontent-%COMP%]{height:100%;margin-left:0rem;margin-bottom:10rem}.user-form[_ngcontent-%COMP%]{padding:10px;width:90%;height:100%}.submit-btn[_ngcontent-%COMP%]{width:100%;text-align:center}.form-check-group[_ngcontent-%COMP%]{position:relative;left:20%;width:75%;font-size:small}}"]})}}return n})();var k=a(1620),M=a(5458),F=a(5351),_=a(882),B=a(9631),E=a(8834);function W(n,l){1&n&&(t.j41(0,"mat-error"),t.EFF(1," Item Type is required. "),t.k0s())}let I=(()=>{class n{constructor(e,r,o,p){this.userService=e,this.fb=r,this.dialogRef=o,this.data=p,this.destroy$=new f.B,this.isEditing=!1,this.imageDisplay=[],this.image=[],this.categoryForm=this.fb.group({itemType:[p.itemType||"",s.k0.required],itemName:[""],image:[p.image||""]}),this.token=localStorage.getItem("token")}ngOnInit(){this.isEditing=!!this.data.id,this.isEditing&&(this.categoryForm.patchValue({itemType:this.data.itemType,itemName:this.data.itemName,image:this.data.image}),this.data.image&&(this.imageDisplay=[this.data.image]))}onFileChange(e){e.target.files&&e.target.files.length&&(this.image=Array.from(e.target.files),this.imageDisplay=[],this.image.forEach(r=>{const o=new FileReader;o.onload=p=>{this.imageDisplay.push(p.target.result)},o.readAsDataURL(r)}),this.categoryForm.patchValue({image:this.image}))}onSubmit(){const e=new FormData;Object.keys(this.categoryForm.controls).forEach(r=>{"image"!==r&&e.append(r,this.categoryForm.get(r)?.value)}),this.image.forEach(r=>{e.append("image",r,r.name)}),this.categoryForm.valid&&(this.isEditing?(this.updateCategory(e),console.log(e)):this.createCategory(e))}updateCategory(e){this.token&&this.data.id&&this.userService.updateCategory(this.data.id,e,this.token).pipe((0,u.Q)(this.destroy$)).subscribe(r=>this.dialogRef.close(!0),r=>console.error("Error updating category",r))}createCategory(e){this.token&&this.userService.postCategory(e,this.token).pipe((0,u.Q)(this.destroy$)).subscribe(()=>this.dialogRef.close(!0),r=>console.error("Error creating category",r))}onCancel(){this.dialogRef.close()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(r){return new(r||n)(t.rXU(y.z),t.rXU(s.ok),t.rXU(F.CP),t.rXU(F.Vh))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-pecategories"]],decls:18,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","formControlName","itemType"],[4,"ngIf"],[1,"form-group"],["for","files"],["alt","",1,"img-preview",2,"width","4rem","height","4rem",3,"src"],["id","images","type","file","accept",".png, .jpg, .jpeg",1,"form-control-file",3,"change"],["mat-dialog-actions","",1,"button"],["mat-button","",1,"b1",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"b2"]],template:function(r,o){1&r&&(t.j41(0,"h2",0),t.EFF(1),t.k0s(),t.j41(2,"form",1),t.bIt("ngSubmit",function(){return o.onSubmit()}),t.j41(3,"mat-form-field",2)(4,"mat-label"),t.EFF(5,"Item Type"),t.k0s(),t.nrm(6,"input",3),t.DNE(7,W,2,0,"mat-error",4),t.k0s(),t.j41(8,"div",5)(9,"label",6),t.EFF(10,"Images:"),t.k0s(),t.nrm(11,"img",7),t.j41(12,"input",8),t.bIt("change",function(h){return o.onFileChange(h)}),t.k0s()(),t.j41(13,"div",9)(14,"button",10),t.bIt("click",function(){return o.onCancel()}),t.EFF(15,"Cancel"),t.k0s(),t.j41(16,"button",11),t.EFF(17),t.k0s()()()),2&r&&(t.R7$(1),t.JRh(o.isEditing?"Edit Category":"Add Category"),t.R7$(1),t.Y8G("formGroup",o.categoryForm),t.R7$(5),t.Y8G("ngIf",o.categoryForm.get("itemType").hasError("required")),t.R7$(4),t.FS9("src",o.imageDisplay[0],t.B4B),t.R7$(6),t.SpI(" ",o.isEditing?"Save Changes":"Add Category"," "))},dependencies:[c.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,F.BI,F.E7,_.rl,_.nJ,_.TL,B.fg,E.$z],styles:[".button[_ngcontent-%COMP%]   .b2[_ngcontent-%COMP%]{color:#fff;background-color:#163172;padding:8px 16px;border:none;border-radius:8px}.button[_ngcontent-%COMP%]   .b1[_ngcontent-%COMP%]{color:red;background-color:#fff;padding:8px 16px;border:none;border-radius:8px}"]})}}return n})();var w=a(9213);function tt(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",5)(1,"div",6),t.nrm(2,"img",7),t.j41(3,"span"),t.EFF(4),t.k0s(),t.j41(5,"span")(6,"mat-icon",8),t.bIt("click",function(){const p=t.eBV(e).$implicit,h=t.XpG();return t.Njj(h.openDialog(p))}),t.EFF(7,"edit_note"),t.k0s()(),t.j41(8,"span")(9,"mat-icon",9),t.bIt("click",function(){const p=t.eBV(e).$implicit,h=t.XpG();return t.Njj(h.deleteCategory(p._id,h.token))}),t.EFF(10,"delete"),t.k0s()()()()}if(2&n){const e=l.$implicit;t.R7$(2),t.FS9("src",e.image[0],t.B4B),t.R7$(2),t.JRh(e.itemType)}}let et=(()=>{class n{constructor(e,r){this.userService=e,this.dialog=r,this.destroy$=new f.B,this.categories=[],this.token=localStorage.getItem("token")}ngOnInit(){this.getCategories()}getCategories(){this.token&&this.userService.getCategories(this.token).pipe((0,u.Q)(this.destroy$)).subscribe(e=>{this.categories=e,console.log(this.categories)},e=>console.error("Error fetching categories",e))}openDialog(e){this.dialog.open(I,{width:"400px",data:e?{itemType:e.itemType,itemName:e.itemName,image:e.image,id:e._id}:{}}).afterClosed().pipe((0,u.Q)(this.destroy$)).subscribe(o=>{o&&this.getCategories()})}deleteCategory(e,r){this.token&&confirm("Are you sure you want to delete this category?")&&this.userService.deleteCategory(e,r).pipe((0,u.Q)(this.destroy$)).subscribe(()=>{alert("Category deleted successfully"),this.getCategories()},o=>console.error("Error deleting category",o))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(r){return new(r||n)(t.rXU(y.z),t.rXU(F.bZ))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-getcategories"]],decls:10,vars:1,consts:[[1,"container"],[1,"button"],["mat-raised-button","","color","primary",3,"click"],[1,"cat"],["class","cat-sub",4,"ngFor","ngForOf"],[1,"cat-sub"],[1,"cat-sub2"],["alt","",3,"src"],[2,"font-size","28px",3,"click"],[2,"color","#D71313",3,"click"]],template:function(r,o){1&r&&(t.j41(0,"div",0)(1,"h2"),t.EFF(2,"Categories"),t.k0s(),t.j41(3,"div",1)(4,"button",2),t.bIt("click",function(){return o.openDialog()}),t.j41(5,"mat-icon"),t.EFF(6,"add"),t.k0s(),t.EFF(7," Add Category"),t.k0s()(),t.j41(8,"div",3),t.DNE(9,tt,11,2,"div",4),t.k0s()()),2&r&&(t.R7$(9),t.Y8G("ngForOf",o.categories))},dependencies:[c.Sq,w.An,E.$z],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100% s}.cat[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-top:1rem;width:90%}.cat-sub[_ngcontent-%COMP%]{flex-shrink:0;flex-grow:0;width:auto;text-align:center}.cat-sub2[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:auto;gap:5px;padding:8px 15px;border-radius:20px;box-shadow:#00000040 0 .0625em .0625em,#00000040 0 .125em .5em,#ffffff1a 0 0 0 1px inset;margin:0 auto}.cat-sub[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.button[_ngcontent-%COMP%]{width:80%}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:max-content;box-shadow:#0000002e 0 2px 4px;color:#fff;background-color:#163172;padding:8px 16px;border:none;border-radius:8px;display:flex;align-items:center}.cat-sub2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:8rem;height:3rem;border-radius:100%;object-fit:cover}@media screen and (orientation: portrait){.cat-sub2[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;width:60%;padding:8px 5px;margin:.5rem .3rem;border-radius:20px;box-shadow:#00000040 0 .0625em .0625em,#00000040 0 .125em .5em,#ffffff1a 0 0 0 1px inset}}"]})}}return n})();function nt(n,l){1&n&&(t.j41(0,"span"),t.EFF(1,"..."),t.k0s())}function rt(n,l){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.JRh(null==e||null==e.note?null:e.note.slice(50))}}function st(n,l){if(1&n&&(t.j41(0,"div",6)(1,"p")(2,"strong"),t.EFF(3,"Full Note:"),t.k0s(),t.EFF(4),t.k0s(),t.j41(5,"p")(6,"strong"),t.EFF(7,"Date:"),t.k0s(),t.EFF(8),t.nI1(9,"date"),t.k0s(),t.j41(10,"p")(11,"strong"),t.EFF(12,"user id:"),t.k0s(),t.EFF(13),t.k0s(),t.j41(14,"p")(15,"strong"),t.EFF(16,"Shop/Unit No:"),t.k0s(),t.EFF(17),t.k0s(),t.j41(18,"p")(19,"strong"),t.EFF(20,"City:"),t.k0s(),t.EFF(21),t.k0s(),t.j41(22,"p")(23,"strong"),t.EFF(24,"Country:"),t.k0s(),t.EFF(25),t.k0s(),t.j41(26,"p")(27,"strong"),t.EFF(28,"Street:"),t.k0s(),t.EFF(29),t.k0s(),t.j41(30,"p")(31,"strong"),t.EFF(32,"Zip Code:"),t.k0s(),t.EFF(33),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(4),t.SpI(" ",null==e?null:e.note,""),t.R7$(4),t.SpI(" ",t.i5U(9,8,e.date,"medium"),""),t.R7$(5),t.SpI(" ",null==e||null==e.user?null:e.user._id,""),t.R7$(4),t.SpI(" ",null==e||null==e.user?null:e.user.apartment,""),t.R7$(4),t.SpI(" ",null==e||null==e.user?null:e.user.city,""),t.R7$(4),t.SpI(" ",null==e||null==e.user?null:e.user.country,""),t.R7$(4),t.SpI(" ",null==e||null==e.user?null:e.user.street,""),t.R7$(4),t.SpI(" ",null==e||null==e.user?null:e.user.zip,"")}}function ot(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",2)(1,"h3"),t.EFF(2),t.k0s(),t.j41(3,"p"),t.EFF(4),t.k0s(),t.j41(5,"p"),t.EFF(6),t.k0s(),t.j41(7,"p"),t.EFF(8),t.k0s(),t.j41(9,"p"),t.EFF(10),t.k0s(),t.j41(11,"p"),t.EFF(12),t.nI1(13,"slice"),t.DNE(14,nt,2,0,"span",3),t.DNE(15,rt,2,1,"span",3),t.k0s(),t.j41(16,"button",4),t.bIt("click",function(){const p=t.eBV(e).index,h=t.XpG();return t.Njj(h.toggleRequestDetails(p))}),t.EFF(17),t.k0s(),t.DNE(18,st,34,11,"div",5),t.nrm(19,"hr"),t.k0s()}if(2&n){const e=l.$implicit,r=l.index,o=t.XpG();t.R7$(2),t.SpI("Request from ",null==e||null==e.user?null:e.user.name,""),t.R7$(2),t.SpI("Email: ",null==e||null==e.user?null:e.user.email,""),t.R7$(2),t.SpI("Phone: ",null==e||null==e.user?null:e.user.phone,""),t.R7$(2),t.SpI("Role: ",null==e?null:e.role,""),t.R7$(2),t.SpI("Status: ",null==e?null:e.status,""),t.R7$(2),t.SpI(" ",t.brH(13,10,null==e?null:e.note,0,50)," "),t.R7$(2),t.Y8G("ngIf",!o.expandedRequests[r]),t.R7$(1),t.Y8G("ngIf",o.expandedRequests[r]),t.R7$(2),t.SpI(" ",o.expandedRequests[r]?"Show Less":"View Full Details"," "),t.R7$(1),t.Y8G("ngIf",o.expandedRequests[r])}}let it=(()=>{class n{constructor(e){this.adminService=e,this.destroy$=new f.B,this.expandedRequests=[]}ngOnInit(){this.token=localStorage.getItem("token"),this.getRequirements()}getRequirements(){this.adminService.getUsersRequirement(this.token).pipe((0,u.Q)(this.destroy$)).subscribe(e=>{this.requests=e,this.expandedRequests=new Array(this.requests.length).fill(!1),console.log(e)})}toggleRequestDetails(e){this.expandedRequests[e]=!this.expandedRequests[e]}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(r){return new(r||n)(t.rXU(y.z))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-usersrequests"]],decls:4,vars:1,consts:[[1,"request-list"],["class","request-item",4,"ngFor","ngForOf"],[1,"request-item"],[4,"ngIf"],[3,"click"],["class","full-details",4,"ngIf"],[1,"full-details"]],template:function(r,o){1&r&&(t.j41(0,"div",0)(1,"h2"),t.EFF(2,"User Requests"),t.k0s(),t.DNE(3,ot,20,14,"div",1),t.k0s()),2&r&&(t.R7$(3),t.Y8G("ngForOf",o.requests))},dependencies:[c.Sq,c.bT,c.P9,c.vh],styles:[".request-list[_ngcontent-%COMP%]{width:70%}.request-item[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:8px;margin-bottom:15px}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{padding:5px 10px;margin-top:5px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.full-details[_ngcontent-%COMP%]{margin-top:10px;color:#333}@media screen and (orientation: portrait){.request-list[_ngcontent-%COMP%]{width:90%}}"]})}}return n})();var A=a(1584),at=a(5558),dt=a(9974),T=a(4360),ct=a(3669),lt=a(8750),mt=a(2616),v=a(5596),G=a(7575),N=a(9183);function ht(n,l){1&n&&(t.j41(0,"div",6)(1,"p"),t.EFF(2,"Connecting to server..."),t.k0s(),t.nrm(3,"mat-spinner",7),t.k0s())}function ut(n,l){if(1&n&&(t.j41(0,"div",8)(1,"mat-card",9)(2,"mat-card-header")(3,"div",10)(4,"mat-icon"),t.EFF(5,"memory"),t.k0s()(),t.j41(6,"mat-card-title"),t.EFF(7,"CPU Load"),t.k0s(),t.j41(8,"mat-card-subtitle"),t.EFF(9),t.k0s()(),t.j41(10,"mat-card-content")(11,"div",11),t.EFF(12),t.k0s(),t.nrm(13,"mat-progress-bar",12),t.k0s()(),t.j41(14,"mat-card",13)(15,"mat-card-header")(16,"div",10)(17,"mat-icon"),t.EFF(18,"memory"),t.k0s()(),t.j41(19,"mat-card-title"),t.EFF(20,"RAM Usage"),t.k0s(),t.j41(21,"mat-card-subtitle"),t.EFF(22),t.k0s()(),t.j41(23,"mat-card-content")(24,"div",11),t.EFF(25),t.nI1(26,"number"),t.k0s(),t.nrm(27,"mat-progress-bar",12),t.j41(28,"div",14)(29,"small"),t.EFF(30),t.k0s(),t.j41(31,"small"),t.EFF(32),t.k0s()()()(),t.j41(33,"mat-card",15)(34,"mat-card-header")(35,"div",10)(36,"mat-icon"),t.EFF(37,"storage"),t.k0s()(),t.j41(38,"mat-card-title"),t.EFF(39,"Storage"),t.k0s(),t.j41(40,"mat-card-subtitle"),t.EFF(41,"Server Disk Space"),t.k0s()(),t.j41(42,"mat-card-content")(43,"div",11),t.EFF(44),t.k0s(),t.j41(45,"p"),t.EFF(46),t.k0s(),t.j41(47,"div",16),t.nrm(48,"div",17),t.k0s(),t.j41(49,"small"),t.EFF(50),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(9),t.SpI("",e.stats.cpu.cores," Cores detected"),t.R7$(3),t.SpI("",e.stats.cpu.load,"%"),t.R7$(1),t.Y8G("value",e.stats.cpu.load)("color",e.stats.cpu.load>80?"warn":"primary"),t.R7$(9),t.Lme("",e.formatBytes(e.stats.memory.active)," / ",e.formatBytes(e.stats.memory.total),""),t.R7$(3),t.SpI("",t.i5U(26,16,e.getRamUsagePercent(),"1.0-1"),"%"),t.R7$(2),t.Y8G("value",e.getRamUsagePercent())("color",e.getRamUsagePercent()>85?"warn":"accent"),t.R7$(3),t.SpI("Free: ",e.formatBytes(e.stats.memory.free),""),t.R7$(2),t.SpI("Available: ",e.formatBytes(e.stats.memory.available),""),t.R7$(12),t.JRh(e.formatBytes(e.stats.storage.used)),t.R7$(2),t.SpI("Used of ",e.formatBytes(e.stats.storage.total),""),t.R7$(2),t.xc7("width",e.stats.storage.used/e.stats.storage.total*100,"%"),t.R7$(2),t.SpI("",e.formatBytes(e.stats.storage.free)," Free")}}function gt(n,l){if(1&n&&(t.j41(0,"div",18)(1,"mat-icon"),t.EFF(2,"schedule"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.nI1(5,"number"),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.SpI("Server Uptime: ",t.bMT(5,1,e.stats.uptime)," seconds")}}const ft=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"dashboard",component:D},{path:"home",component:D},{path:"adduser",component:S},{path:"server-monitor",component:(()=>{class n{constructor(e,r){this.adminService=e,this.sharedService=r,this.stats=null,this.loading=!0,this.clearingCache=!1,this.destroy$=new f.B}ngOnInit(){this.startPolling()}startPolling(){(0,A.O)(0,5e3).pipe((0,u.Q)(this.destroy$),(0,at.n)(()=>this.adminService.getSystemStats().pipe(function pt(n=1/0){let l;l=n&&"object"==typeof n?n:{count:n};const{count:e=1/0,delay:r,resetOnSuccess:o=!1}=l;return e<=0?ct.D:(0,dt.N)((p,h)=>{let x,b=0;const U=()=>{let z=!1;x=p.subscribe((0,T._)(h,P=>{o&&(b=0),h.next(P)},void 0,P=>{if(b++<e){const L=()=>{x?(x.unsubscribe(),x=null,U()):z=!0};if(null!=r){const yt="number"==typeof r?(0,A.O)(r):(0,lt.Tg)(r(P,b)),X=(0,T._)(h,()=>{X.unsubscribe(),L()},()=>{h.complete()});yt.subscribe(X)}else L()}else h.error(P)})),z&&(x.unsubscribe(),x=null,U())};U()})}(2)))).subscribe({next:e=>{this.stats=e,this.loading=!1},error:e=>{console.error("Failed to fetch stats",e)}})}clearCache(){this.clearingCache||(this.clearingCache=!0,this.adminService.clearCache().subscribe({next:e=>{this.sharedService.showNotification("Cache Cleared Successfully","success"),this.clearingCache=!1,console.log("Cache clear details:",e.details)},error:e=>{this.sharedService.showNotification("Failed to Clear Cache","error"),this.clearingCache=!1}}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}formatBytes(e,r=2){if(0===e)return"0 Bytes";const p=r<0?0:r,b=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,b)).toFixed(p))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][b]}getRamUsagePercent(){return this.stats?.memory?this.stats.memory.active/this.stats.memory.total*100:0}static{this.\u0275fac=function(r){return new(r||n)(t.rXU(y.z),t.rXU(mt.d))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-server-monitor"]],decls:11,vars:6,consts:[[1,"monitor-container"],[1,"header"],["mat-raised-button","","color","warn",3,"disabled","click"],["class","loading-state",4,"ngIf"],["class","dashboard-grid",4,"ngIf"],["class","uptime-footer",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"dashboard-grid"],[1,"stat-card","cpu"],["mat-card-avatar",""],[1,"metric-big"],["mode","determinate",3,"value","color"],[1,"stat-card","ram"],[1,"details"],[1,"stat-card","storage"],[1,"storage-bar"],[1,"used"],[1,"uptime-footer"]],template:function(r,o){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"Server Monitor"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return o.clearCache()}),t.j41(5,"mat-icon"),t.EFF(6),t.k0s(),t.EFF(7),t.k0s()(),t.DNE(8,ht,4,0,"div",3),t.DNE(9,ut,51,19,"div",4),t.DNE(10,gt,6,3,"div",5),t.k0s()),2&r&&(t.R7$(4),t.Y8G("disabled",o.clearingCache||!o.stats),t.R7$(2),t.JRh(o.clearingCache?"hourglass_empty":"delete_sweep"),t.R7$(1),t.SpI(" ",o.clearingCache?"Cleaning...":"Clear Cache & RAM"," "),t.R7$(1),t.Y8G("ngIf",o.loading&&!o.stats),t.R7$(1),t.Y8G("ngIf",o.stats),t.R7$(1),t.Y8G("ngIf",o.stats))},dependencies:[c.bT,w.An,v.RN,v.QG,v.m2,v.MM,v.Lc,v.dh,E.$z,G.HM,N.LG,c.QX],styles:[".monitor-container[_ngcontent-%COMP%]{padding:24px;max-width:1200px;margin:0 auto}.monitor-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px}.monitor-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:500;margin:0;color:#333}.monitor-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;color:#666;gap:16px}.monitor-container[_ngcontent-%COMP%]   .dashboard-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;margin-bottom:32px}.monitor-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 20px #0000000d}.monitor-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:16px}.monitor-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   [mat-card-avatar][_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#f5f5f5;border-radius:50%;color:#666}.monitor-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .metric-big[_ngcontent-%COMP%]{font-size:3rem;font-weight:300;margin-bottom:16px;line-height:1}.monitor-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:12px;color:#888}.monitor-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .storage-bar[_ngcontent-%COMP%]{height:8px;background:#eee;border-radius:4px;overflow:hidden;margin:12px 0}.monitor-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .storage-bar[_ngcontent-%COMP%]   .used[_ngcontent-%COMP%]{height:100%;background:#673ab7}.monitor-container[_ngcontent-%COMP%]   .uptime-footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#888;font-size:.9rem;justify-content:center;margin-top:48px}@media (max-width: 600px){.monitor-container[_ngcontent-%COMP%]{padding:16px}.monitor-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:flex-start}}"]})}}return n})()},{path:"secret/signupAz",component:S},{path:"aeuser/:customIdentifer",component:S},{path:"",loadChildren:()=>a.e(1286).then(a.bind(a,1286)).then(n=>n.OrdersModule),canActivate:[k.q,M.K],data:{role:"admin"}},{path:"",loadChildren:()=>a.e(9170).then(a.bind(a,9170)).then(n=>n.UsersModule),canActivate:[k.q,M.K],data:{role:"admin"}},{path:"",loadChildren:()=>a.e(9993).then(a.bind(a,9993)).then(n=>n.ReqAdminModule),canActivate:[k.q,M.K],data:{role:"admin"}},{path:"categories",component:et},{path:"add-category",component:I},{path:"get-category",component:I},{path:"all-reqs-by-users",component:it},{path:"service-categories",loadChildren:()=>Promise.all([a.e(5982),a.e(3977)]).then(a.bind(a,3977)).then(n=>n.ServiceCategoryModule),canActivate:[k.q,M.K],data:{role:"admin"}},{path:"service-orders",loadChildren:()=>a.e(318).then(a.bind(a,318)).then(n=>n.ServiceOrdersModule),canActivate:[k.q,M.K],data:{role:"admin"}}];let bt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[C.iI.forChild(ft),C.iI]})}}return n})();var Ct=a(5619);let vt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({providers:[Ct.o],imports:[c.MD,bt,s.YN,s.X1,w.m_,F.hM,_.RG,B.fS,v.Hu,E.Hl,G.PO,N.D6]})}}return n})()},3976:(q,$,a)=>{a.d($,{z:()=>f});var c=a(1626),C=a(8984),t=a(7705);let f=(()=>{class u{constructor(s){this.http=s,this.baseUrl=C.c.baseUrl}search(s,d,i=0,m=10,g){const O=new c.Lr({Authorization:`Bearer ${g}`}),R=(new c.Nl).set("query",s).set("model",d).set("start",i.toString()).set("limit",m.toString());return this.http.get(`${this.baseUrl}/admin/search`,{headers:O,params:R})}deleteDocumentByModelAndId(s,d,i){const m=new c.Lr({Authorization:`Bearer ${i}`});return this.http.request("delete",`${this.baseUrl}/admin/doc/delete`,{headers:m,body:{model:s,id:d}})}getUsersRequirement(s){const i={headers:new c.Lr({Authorization:`Bearer ${s}`})};return this.http.get(`${this.baseUrl}/see-requests`,i)}getRequestedSubmissions(s){const i={headers:new c.Lr({Authorization:`Bearer ${s}`})};return this.http.get(`${this.baseUrl}/request/requested-submissions`,i)}getCompletedProductsForAdmin(s){const i={headers:new c.Lr({Authorization:`Bearer ${s}`})};return this.http.get(`${this.baseUrl}/request/admin-completed-products`,i)}confirmDelivery(s,d){const m={headers:new c.Lr({Authorization:`Bearer ${d}`})};return this.http.post(`${this.baseUrl}/request/confirm-delivery`,{submissionId:s},m)}updateDelivery(s,d,i){const g={headers:new c.Lr({Authorization:`Bearer ${i}`})};return this.http.post(`${this.baseUrl}/request/delivery-update`,{requirementId:s,submissionId:d},g)}getAllRequirements(s){const i={headers:new c.Lr({Authorization:`Bearer ${s}`})};return this.http.get(`${this.baseUrl}/request/all-requirements`,i)}forwardRequirement(s,d){const m={headers:new c.Lr({Authorization:`Bearer ${d}`})};return this.http.post(`${this.baseUrl}/request/forward-requirement`,{requirementId:s},m)}getProductSubmissions(s){const i={headers:new c.Lr({Authorization:`Bearer ${s}`})};return this.http.get(`${this.baseUrl}/request/all-product-submissions`,i)}forwardProductSubmission(s,d,i){const g={headers:new c.Lr({Authorization:`Bearer ${i}`})};return this.http.post(`${this.baseUrl}/request/forward-product-submission`,{submissionId:s,requirementId:d},g)}getOrdersCountAdmin(s){const i={headers:new c.Lr({Authorization:`Bearer ${s}`})};return this.http.get(`${this.baseUrl}/admin/orderscount`,i)}getProductsCountAdmin(s){const i={headers:new c.Lr({Authorization:`Bearer ${s}`})};return this.http.get(`${this.baseUrl}/admin/productscount`,i)}getUsersCountAdmin(s){const i={headers:new c.Lr({Authorization:`Bearer ${s}`})};return this.http.get(`${this.baseUrl}/admin/users-count`,i)}getProductsAll(s,d,i){const g={headers:new c.Lr({Authorization:`Bearer ${i}`})};return this.http.get(`${this.baseUrl}/admin/allitems?start=${s}&limit=${d}`,g)}getOrdersAll(s,d,i){const g={headers:new c.Lr({Authorization:`Bearer ${i}`})};return this.http.get(`${this.baseUrl}/admin/orders?start=${s}&limit=${d}`,g)}getOrder(s){const i={headers:new c.Lr({Authorization:`Bearer ${s}`})};return this.http.get(`${this.baseUrl}/order/:customIdentifier`,i)}getSystemStats(){return this.http.get(`${this.baseUrl}/monitoring/stats`)}clearCache(){return this.http.post(`${this.baseUrl}/monitoring/clear-cache`,{})}getUsers(s){const i={headers:new c.Lr({Authorization:`Bearer ${s} `})};return this.http.get(`${this.baseUrl} /users/all`,i)}getUserByCID(s,d){const m={headers:new c.Lr({Authorization:`Bearer ${d} `})};return this.http.get(`${this.baseUrl} /user/${s} `,m)}addUser(s,d){const m={headers:new c.Lr({Authorization:`Bearer ${d} `})};return this.http.post(`${this.baseUrl} /user/signup`,s,m)}updateUser(s,d,i){const g={headers:new c.Lr({Authorization:`Bearer ${i} `})};return this.http.put(`${this.baseUrl} /updateuser/${s} `,d,g)}getCategories(s){const i={headers:new c.Lr({Authorization:`Bearer ${s} `})};return this.http.get(`${this.baseUrl}/categories`,i)}getCategory(s,d){const m={headers:new c.Lr({Authorization:`Bearer ${d}`})};return this.http.get(`${this.baseUrl}/${s}`,m)}postCategory(s,d){const m={headers:new c.Lr({Authorization:`Bearer ${d}`})};return this.http.post(`${this.baseUrl}/category`,s,m)}updateCategory(s,d,i){const g={headers:new c.Lr({Authorization:`Bearer ${i}`})};return this.http.put(`${this.baseUrl}/category/${s}`,d,g)}deleteCategory(s,d){const m={headers:new c.Lr({Authorization:`Bearer ${d}`}),body:{id:s}};return this.http.delete(`${this.baseUrl}/category/delete-category`,m)}getCategoryById(s){return this.http.get(`${this.baseUrl}/category/${s}`)}static{this.\u0275fac=function(d){return new(d||u)(t.KVO(c.Qq))}}static{this.\u0275prov=t.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()}}]);